import Vue from 'vue';
import PlayerSurface from './vue/PlayerSurface';
import {play} from "./js/playerControl";

const film = {
    "f": {
        "name": "film #0d10c",
        "elements": [
            {
                "e": {
                    "_id": "0.18320034637659854",
                    "pen": {
                        "_id": "0.36269390113134614",
                        "color": "#1155cc",
                        "width": 50,
                        "opacity": 1,
                        "mask": false,
                        "stroke": true,
                        "linecap": "round"
                    },
                    "points": [
                        {
                            "x": 45.01041793823242,
                            "y": 108.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 107.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 103.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 100.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 95.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 91.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 87.77777862548828
                        },
                        {
                            "x": 45.01041793823242,
                            "y": 80.77777862548828
                        },
                        {
                            "x": 46.01041793823242,
                            "y": 70.77777862548828
                        },
                        {
                            "x": 47.01041793823242,
                            "y": 68.77777862548828
                        },
                        {
                            "x": 50.01041793823242,
                            "y": 59.777774810791016
                        },
                        {
                            "x": 55.01041793823242,
                            "y": 53.777774810791016
                        },
                        {
                            "x": 66.01041412353516,
                            "y": 49.777774810791016
                        },
                        {
                            "x": 69.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 71.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 75.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 81.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 89.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 101.01041412353516,
                            "y": 47.777774810791016
                        },
                        {
                            "x": 116.01041412353516,
                            "y": 48.777774810791016
                        },
                        {
                            "x": 119.01041412353516,
                            "y": 48.777774810791016
                        },
                        {
                            "x": 130.0104217529297,
                            "y": 52.777774810791016
                        },
                        {
                            "x": 141.0104217529297,
                            "y": 62.777774810791016
                        },
                        {
                            "x": 149.0104217529297,
                            "y": 72.77777862548828
                        },
                        {
                            "x": 156.0104217529297,
                            "y": 79.77777862548828
                        },
                        {
                            "x": 158.0104217529297,
                            "y": 85.77777862548828
                        },
                        {
                            "x": 162.0104217529297,
                            "y": 93.77777862548828
                        },
                        {
                            "x": 167.0104217529297,
                            "y": 103.77777862548828
                        },
                        {
                            "x": 168.0104217529297,
                            "y": 109.77777862548828
                        },
                        {
                            "x": 169.0104217529297,
                            "y": 119.77777862548828
                        },
                        {
                            "x": 169.0104217529297,
                            "y": 128.77777099609375
                        },
                        {
                            "x": 169.0104217529297,
                            "y": 134.77777099609375
                        },
                        {
                            "x": 165.0104217529297,
                            "y": 149.77777099609375
                        },
                        {
                            "x": 159.0104217529297,
                            "y": 157.77777099609375
                        },
                        {
                            "x": 142.0104217529297,
                            "y": 174.77777099609375
                        },
                        {
                            "x": 127.01041412353516,
                            "y": 185.77777099609375
                        },
                        {
                            "x": 121.01041412353516,
                            "y": 189.77777099609375
                        },
                        {
                            "x": 118.01041412353516,
                            "y": 193.77777099609375
                        },
                        {
                            "x": 111.01041412353516,
                            "y": 198.77777099609375
                        },
                        {
                            "x": 109.01041412353516,
                            "y": 201.77777099609375
                        },
                        {
                            "x": 105.01041412353516,
                            "y": 203.77777099609375
                        },
                        {
                            "x": 102.01041412353516,
                            "y": 207.77777099609375
                        },
                        {
                            "x": 101.01041412353516,
                            "y": 208.77777099609375
                        },
                        {
                            "x": 99.01041412353516,
                            "y": 210.77777099609375
                        },
                        {
                            "x": 98.01041412353516,
                            "y": 210.77777099609375
                        },
                        {
                            "x": 97.01041412353516,
                            "y": 211.77777099609375
                        },
                        {
                            "x": 96.01041412353516,
                            "y": 211.77777099609375
                        },
                        {
                            "x": 94.01041412353516,
                            "y": 211.77777099609375
                        },
                        {
                            "x": 91.01041412353516,
                            "y": 209.77777099609375
                        },
                        {
                            "x": 86.01041412353516,
                            "y": 201.77777099609375
                        },
                        {
                            "x": 81.01041412353516,
                            "y": 197.77777099609375
                        },
                        {
                            "x": 77.01041412353516,
                            "y": 188.77777099609375
                        },
                        {
                            "x": 75.01041412353516,
                            "y": 180.77777099609375
                        },
                        {
                            "x": 74.01041412353516,
                            "y": 175.77777099609375
                        },
                        {
                            "x": 74.01041412353516,
                            "y": 173.77777099609375
                        },
                        {
                            "x": 74.01041412353516,
                            "y": 170.77777099609375
                        },
                        {
                            "x": 77.01041412353516,
                            "y": 167.77777099609375
                        },
                        {
                            "x": 79.01041412353516,
                            "y": 162.77777099609375
                        },
                        {
                            "x": 82.01041412353516,
                            "y": 155.77777099609375
                        },
                        {
                            "x": 84.01041412353516,
                            "y": 152.77777099609375
                        },
                        {
                            "x": 84.01041412353516,
                            "y": 148.77777099609375
                        },
                        {
                            "x": 87.01041412353516,
                            "y": 144.77777099609375
                        },
                        {
                            "x": 89.01041412353516,
                            "y": 142.77777099609375
                        },
                        {
                            "x": 89.01041412353516,
                            "y": 139.77777099609375
                        },
                        {
                            "x": 90.01041412353516,
                            "y": 138.77777099609375
                        },
                        {
                            "x": 90.01041412353516,
                            "y": 137.77777099609375
                        }
                    ],
                    "anim": true
                },
                "_id": "0.8545144085227381",
                "tx": 0,
                "ty": 0,
                "tz": 0
            }
        ],
        "masks": [],
        "children": [],
        "imageCount": 66,
        "ftz": 66,
        "keptImage": 0,
        "player": {
            "playing": false,
            "startMoment": null
        },
        "config": {
            "showPhantom": true,
            "imageDuration": 15,
            "durationCoef": 1,
            "activeModeIdx": 0,
            "activeMaskIdx": null,
            "smooth": true,
            "smoothing": 0.2,
            "flattening": 0,
            "simplify": false,
            "simpleMode": "visvalingam",
            "simpleCoef": 10
        },
        "selection": {
            "elementId": null,
            "box": null
        },
        "zoom": 1
    },
    "_id": "0.1492338950526102",
    "tx": 0,
    "ty": 0,
    tw: 800,
    th: 600,
    "tz": 0
};

const player = {
    mounted: mountedFilm => {
        play(mountedFilm)
    }
};

new Vue({
    el: "#app",
    components: {PlayerSurface},
    data: function () {
        return {film: null};
    },
    template: '<PlayerSurface :film="film"/>',
    mounted: function () {
        this.film = film;
        player.mounted(this.film);
    }
});